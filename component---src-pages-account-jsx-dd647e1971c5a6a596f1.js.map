{"version":3,"sources":["webpack:///./src/components/privateRoute.jsx","webpack:///./src/components/account/SocialLoginButton.jsx","webpack:///./src/components/account/profile.jsx","webpack:///./src/components/account/login.jsx","webpack:///./src/pages/account.jsx"],"names":["PrivateRoute","Component","component","location","rest","config","siteMetadata","authentication","enable","isAuthenticated","pathname","navigate","SocialLoginButton","id","title","icon","onClick","event","preventDefault","handleLogin","pageMeta","description","Profile","context","useContext","StateContext","Helmet","className","user","displayName","emails","value","verified","_json","locale","FaGoogleIcon","faGoogle","FaFacebookIcon","faFacebook","FaTwitterIcon","faTwitter","FaLinkedInIcon","faLinkedin","Login","to","AccountLinks","Account","pageContext","authenticated","exact","path","window"],"mappings":"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","file":"component---src-pages-account-jsx-dd647e1971c5a6a596f1.js","sourcesContent":["/**\r\n * PrivateRoute.\r\n * \r\n * Implement the Gatsby's WrapPageElement Browser API.\r\n * \r\n * @see: https://www.gatsbyjs.org/docs/browser-apis/\r\n *\r\n * @param\tComponent:\t  The Component (React component).\r\n * @param location:     The current url (relative path).\r\n * @param\tprops: \t\t    The Component properties.\r\n * \r\n * @return Component:\t\tLayout React Component (JSX).\r\n */\r\n\r\n /**\r\n  * Dependencies.\r\n  */\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { navigate } from 'gatsby'\r\nimport { isAuthenticated } from '../services/auth'\r\nimport config from '../../gatsby-config'\r\n\r\n/**\r\n * Conditional component.\r\n */\r\nconst PrivateRoute = ({ component: Component, location, ...rest }) => {\r\n\r\n  // Skip if authentication is disabled from config.\r\n  if (!config.siteMetadata.authentication.enable) {\r\n    navigate('/')\r\n    return null\r\n  }\r\n\r\n  // Redirect to login page if not authenticated.\r\n  if( !isAuthenticated() && location.pathname !== '/account/login' ) {\r\n    navigate('/account/login')\r\n    return null\r\n  }\r\n\r\n  // Skip if authentication disabled from config.\r\n  return <Component { ...rest } />\r\n\r\n}\r\n\r\n/**\r\n * Component properties.\r\n */\r\nPrivateRoute.propTypes = {\r\n  component: PropTypes.any.isRequired,\r\n}\r\n\r\nexport default PrivateRoute","/**\r\n * SOCIAL LOGIN BUTTON.\r\n */\r\n\r\n /**\r\n  * Dependencies.\r\n  */\r\nimport React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport { handleLogin } from '../../services/auth'\r\n\r\n/**\r\n * Layout React component (JSX).\r\n */\r\nconst SocialLoginButton = ({ id, title, icon }) => {\r\n\r\n    return (\r\n        <button id={id} onClick={event => {\r\n            event.preventDefault()\r\n            handleLogin(event)\r\n        }}>\r\n        {icon} {title}\r\n        </button>\r\n    )\r\n\r\n}\r\n\r\nSocialLoginButton.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n}\r\n  \r\nexport default SocialLoginButton","/**\r\n * PROFILE\r\n * \r\n * @file        profile.jsx\r\n * @location    components\r\n */\r\n\r\n/**\r\n * Dependencies.\r\n */\r\nimport React, {useContext} from 'react'\r\nimport { StateContext } from '../../.gatsby/GlobalContextProvider'\r\nimport { Helmet } from 'react-helmet'\r\nimport '../../styles/profile.css'\r\n\r\n/**\r\n * Page Meta.\r\n */\r\nconst pageMeta = {\r\n  title: 'Profile',\r\n  description: 'Profile stuff...',\r\n}\r\n\r\n/**\r\n * React component (JSX).\r\n */\r\n//class Profile extends React.Component {\r\nconst Profile = () => {\r\n\r\n  /**\r\n   * Authentication.\r\n   */\r\n  const context = useContext(StateContext)\r\n\r\n  return (\r\n    <>\r\n      <Helmet title={pageMeta.title} />\r\n      <div className=\"content\">\r\n        <h2>{pageMeta.title}</h2>\r\n        <ul>\r\n          <li>Name: {context.user.displayName}</li>\r\n          <li>Email: {context.user.emails[0].value} ({context.user.emails[0].verified ? 'Verified' : 'Not verified'})</li>\r\n          <li>Language: {context.user._json.locale}</li>\r\n        {/*\r\n        Object.keys(context.user).map((key, i) =>\r\n          <li key={i}>{key}: {context.user[key]}</li>\r\n        )\r\n        */}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nProfile.pageMeta = pageMeta\r\n\r\nexport default Profile","/**\r\n * LOGIN.\r\n * \r\n * @file        login.jsx\r\n * @location    components\r\n */\r\n\r\n/**\r\n * Dependencies.\r\n */\r\nimport React from 'react'\r\nimport { Link as GatsbyLink, navigate } from 'gatsby'\r\nimport SocialLoginButton from './SocialLoginButton'\r\n//import loadOneTapClient, { unloadOneTapClient } from '../google/OneTapClient'\r\nimport config from '../../../gatsby-config'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faGoogle, faFacebook, faTwitter, faLinkedin } from '@fortawesome/free-brands-svg-icons'\r\nimport { Helmet } from 'react-helmet'\r\nimport '../../styles/login.css'\r\n\r\n/**\r\n * FA ICON COMPONENTS.\r\n */\r\nconst FaGoogleIcon = () => <FontAwesomeIcon icon={faGoogle} />\r\nconst FaFacebookIcon = () => <FontAwesomeIcon icon={faFacebook} />\r\nconst FaTwitterIcon = () => <FontAwesomeIcon icon={faTwitter} />\r\nconst FaLinkedInIcon = () => <FontAwesomeIcon icon={faLinkedin} />\r\n\r\n/**\r\n * Page Meta.\r\n */\r\nconst pageMeta = {\r\n  title: 'Login',\r\n  description: 'Login stuff...',\r\n}\r\n\r\n/**\r\n * LOGIN React Component (JSX).\r\n */\r\n//class Login extends React.Component {\r\nconst Login = () => {\r\n\r\n  if (!config.siteMetadata.authentication.enable) {\r\n    navigate(-1)\r\n    return null\r\n  }\r\n\r\n  // Skip page if already logged in.\r\n  /*\r\n  if( isLoggedIn() ) {\r\n    navigate(`/account/profile`)\r\n  }\r\n  */\r\n\r\n  // Show login page.\r\n  return (\r\n    <>\r\n      <Helmet title={pageMeta.title} />\r\n      <div className=\"box\">\r\n        <h2>{pageMeta.title}</h2>\r\n        <p>Select your prefered social account to log in:</p>\r\n        <SocialLoginButton id=\"google\" title=\"Google\" icon={<FaGoogleIcon />} />\r\n        <SocialLoginButton id=\"facebook\" title=\"Facebook\" icon={<FaFacebookIcon />} />\r\n        <SocialLoginButton id=\"twitter\" title=\"Twitter\" icon={<FaTwitterIcon />} />\r\n        <SocialLoginButton id=\"linkedin\" title=\"LinkedIn\" icon={<FaLinkedInIcon />} />\r\n        <p>\r\n        <GatsbyLink id=\"privacy\" to='/privacy-policy/'>\r\n          Privacy Policy\r\n        </GatsbyLink>\r\n        </p>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n}\r\n\r\nLogin.pageMeta = pageMeta\r\n\r\nexport default Login\r\n","/**\r\n * ACCOUNT\r\n * \r\n * @file        src/pages/account.jsx\r\n */\r\n\r\n/**\r\n * Dependencies.\r\n */\r\nimport React, { useContext } from 'react'\r\nimport { Link, navigate } from 'gatsby'\r\nimport { Router } from \"@reach/router\"\r\nimport PrivateRoute from '../components/privateRoute'\r\nimport Profile from '../components/account/profile'\r\nimport Login from '../components/account/login'\r\nimport { StateContext } from '../.gatsby/GlobalContextProvider'\r\nimport config from '../../gatsby-config'\r\n\r\n/**\r\n * Page Meta.\r\n */\r\nconst pageMeta = {\r\n  title: 'Account',\r\n  description: 'Account stuff...',\r\n}\r\n \r\nconst AccountLinks = () => {\r\n  return (<><Link to=\"/account/profile\">Profile</Link> / <Link to=\"/account/logout\">Logout</Link></>)\r\n}\r\n\r\n/**\r\n * Page (React component - JSX).\r\n */\r\nconst Account = ({pageContext}) => {\r\n\r\n    const context = useContext(StateContext)\r\n    //const { matchPath } = usePageContext()\r\n    //console.log('matchPath: ', matchPath)\r\n\r\n    // Skip if authentication disabled.\r\n    if (!config.siteMetadata.authentication.enable) {\r\n      if( typeof window !== \"undefined\" ) navigate(-1)\r\n      return null\r\n    }\r\n    \r\n    // Account page.\r\n    return (\r\n      <>\r\n      <div id=\"content\" className=\"container col\">\r\n      <div className=\"content\">\r\n        <h1>{pageMeta.title}</h1>\r\n        {context.authenticated ? (\r\n          <p>Welcome to your account page {context.user.displayName}.</p>,\r\n          <p><AccountLinks/></p>\r\n        )\r\n        :\r\n          <p>By using our website, you agree with our <Link to=\"/privacy-policy/\">Privacy Policy</Link> and <Link to=\"/terms-and-conditions/\">Terms of service</Link>.</p>\r\n        }\r\n        <Router>\r\n          <PrivateRoute exact path=\"/account/profile\" component={Profile} />\r\n          <Login path=\"/account/login\" />\r\n        </Router>\r\n      </div>\r\n    </div>\r\n      </>\r\n    )\r\n\r\n}\r\n\r\nAccount.pageMeta = pageMeta\r\n\r\nexport default Account"],"sourceRoot":""}